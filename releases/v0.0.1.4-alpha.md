# Release Notes - v0.0.1.4-alpha (2025-01-06)

## ğŸ¥ Funcionalidade YouTube Implementada

### ğŸš€ Novidades

#### Comando /youtube
- **Novo Comando**: `/youtube` para download de vÃ­deos do YouTube
- **BotÃ£o no Teclado**: Adicionado botÃ£o "ğŸ¥ YouTube" no teclado personalizado
- **DetecÃ§Ã£o AutomÃ¡tica**: URLs do YouTube sÃ£o detectadas automaticamente em mensagens
- **MÃºltiplos Formatos**: Suporte a diferentes formatos de URL do YouTube:
  - `https://www.youtube.com/watch?v=VIDEO_ID`
  - `https://youtu.be/VIDEO_ID`
  - `https://m.youtube.com/watch?v=VIDEO_ID`
  - `https://youtube.com/watch?v=VIDEO_ID`

#### Sistema de Download
- **Download AssÃ­ncrono**: Processamento em segundo plano sem bloquear o bot
- **Monitoramento de Progresso**: AtualizaÃ§Ãµes de status a cada 10 segundos
- **InformaÃ§Ãµes Detalhadas**: Exibe tÃ­tulo, canal, duraÃ§Ã£o, visualizaÃ§Ãµes e data de publicaÃ§Ã£o
- **Limite de Tamanho**: MÃ¡ximo de 50MB (compatÃ­vel com Telegram)
- **Timeout**: Limite de 10 minutos por download
- **Envio AutomÃ¡tico**: VÃ­deos sÃ£o enviados automaticamente para o chat
- **Limpeza AutomÃ¡tica**: Arquivos sÃ£o removidos apÃ³s envio (configurÃ¡vel)

#### Tratamento de Erros
- **URLs InvÃ¡lidas**: DetecÃ§Ã£o e notificaÃ§Ã£o de links incorretos
- **VÃ­deos IndisponÃ­veis**: Tratamento de conteÃºdo privado ou removido
- **Arquivos Grandes**: NotificaÃ§Ã£o quando vÃ­deos excedem 50MB
- **Falhas de Rede**: RecuperaÃ§Ã£o automÃ¡tica de erros temporÃ¡rios
- **Logs Detalhados**: Sistema completo de logging para debugging

### ğŸ“ Arquivos Criados

#### Novos MÃ³dulos
- `youtube_downloader.py` - MÃ³dulo principal para download de vÃ­deos
- `requirements_youtube.txt` - DependÃªncias especÃ­ficas do YouTube
- `README_YOUTUBE.md` - DocumentaÃ§Ã£o completa da funcionalidade

#### DependÃªncias Adicionadas
- `yt-dlp>=2023.12.30` - Download de vÃ­deos do YouTube
- `pytube>=15.0.0` - ManipulaÃ§Ã£o de streams do YouTube
- `requests>=2.31.0` - RequisiÃ§Ãµes HTTP
- `aiofiles>=23.2.1` - OperaÃ§Ãµes de arquivo assÃ­ncronas

### ğŸ”§ IntegraÃ§Ã£o com Sistema Existente

#### ModificaÃ§Ãµes em telegram_utils.py
- Adicionado comando `/youtube` Ã  funÃ§Ã£o `set_bot_commands()`
- IncluÃ­do botÃ£o "ğŸ¥ YouTube" no teclado personalizado
- Implementado mapeamento do botÃ£o para comando
- Atualizada mensagem de boas-vindas
- Adicionada detecÃ§Ã£o automÃ¡tica de URLs do YouTube
- Implementadas funÃ§Ãµes `process_youtube_download()` e `send_video_to_telegram()`

### ğŸ“‹ Como Usar

#### InstalaÃ§Ã£o das DependÃªncias
```bash
pip install -r requirements_youtube.txt
```

#### MÃ©todos de Uso
1. **Comando Direto**: Digite `/youtube` para ver instruÃ§Ãµes
2. **BotÃ£o do Teclado**: Clique em "ğŸ¥ YouTube"
3. **URL Direta**: Envie qualquer URL do YouTube no chat

#### ConfiguraÃ§Ã£o Opcional
Adicione ao arquivo `.env`:
```env
# Remove arquivos apÃ³s enviar (padrÃ£o: True)
REMOVE_AFTER_SEND=True
```

### âš ï¸ LimitaÃ§Ãµes

- **Tamanho MÃ¡ximo**: 50MB (limitaÃ§Ã£o do Telegram)
- **Timeout**: 10 minutos por download
- **Formato**: Apenas MP4 (vÃ­deo)
- **Qualidade**: Melhor qualidade disponÃ­vel automaticamente

### ğŸ”œ PrÃ³ximos Passos

Para versÃµes futuras (v0.3.0):
- Escolha de qualidade/formato
- ExtraÃ§Ã£o apenas de Ã¡udio (MP3)
- Suporte a playlists
- Fila de downloads
- HistÃ³rico de downloads
- IntegraÃ§Ã£o com Jellyfin

### ğŸ› CorreÃ§Ãµes e Melhorias

- **Processamento AssÃ­ncrono**: Downloads nÃ£o bloqueiam outras funcionalidades
- **Tratamento de Erros Robusto**: RecuperaÃ§Ã£o automÃ¡tica de falhas temporÃ¡rias
- **Interface Intuitiva**: Mensagens claras e informativas
- **Compatibilidade**: MantÃ©m todas as funcionalidades existentes

### ğŸ“Š EstatÃ­sticas da VersÃ£o

- **Arquivos Modificados**: 1 (telegram_utils.py)
- **Arquivos Criados**: 3 (youtube_downloader.py, requirements_youtube.txt, README_YOUTUBE.md)
- **Linhas de CÃ³digo Adicionadas**: ~400
- **Novas DependÃªncias**: 4
- **Comandos Adicionados**: 1 (/youtube)
- **BotÃµes Adicionados**: 1 (ğŸ¥ YouTube)

---

## ğŸ”„ Requisitos
- Python 3.8+
- DependÃªncias do requirements.txt
- DependÃªncias do requirements_youtube.txt
- Token do bot do Telegram configurado
- ConexÃ£o com internet para downloads

## ğŸ“¦ DependÃªncias Atualizadas
- `yt-dlp` - Para download de vÃ­deos
- `pytube` - Para manipulaÃ§Ã£o de streams
- `requests` - Para requisiÃ§Ãµes HTTP
- `aiofiles` - Para operaÃ§Ãµes assÃ­ncronas

## ğŸ”— Links Ãšteis
- [README_YOUTUBE.md](../README_YOUTUBE.md) - DocumentaÃ§Ã£o completa
- [requirements_youtube.txt](../requirements_youtube.txt) - DependÃªncias
- [ROADMAP.md](../ROADMAP.md) - Planejamento futuro

---

*Nota: Esta Ã© uma versÃ£o alpha. A funcionalidade YouTube estÃ¡ estÃ¡vel, mas podem ocorrer melhorias nas prÃ³ximas versÃµes. Reporte quaisquer problemas encontrados.*